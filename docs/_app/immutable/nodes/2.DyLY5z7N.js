import{a as x,t as L,d as Ne}from"../chunks/disclose-version.5S_AHY0_.js";import{i as fe}from"../chunks/legacy.C_ktj009.js";import{m as Ie,v as T,a2 as de,H as $e,ai as ve,ak as Se,al as j,a1 as ee,ab as K,w as B,at as q,am as ce,n as ue,an as we,D as z,au as xe,av as Oe,ah as Ce,aw as Le,q as Me,ae as Re,a4 as _e,Y as De,z as ae,ax as Be,ay as Fe,az as Pe,aa as He,aA as qe,aB as Ue,G as ze,aC as Ge,E as Je,aD as Ke,aE as Ve,ao as Ye,e as he,aF as Qe,aG as We,a6 as Xe,o as F,aH as Ze,aI as je,a3 as te,K as re,aJ as ea,ap as aa,t as D,c as N,r as I,h as A,Q as ye,p as pe,aK as me,aL as ta,aM as ra,f as ge,aN as sa,s as $,a as ke,j as na,B as U}from"../chunks/runtime.CJlUP-c5.js";import{p as R,c as ia,o as oa}from"../chunks/index-client.BByZbeAB.js";import{d as la,e as fa,l as da,f as va,g as W,a as X}from"../chunks/store.DH5WF4d9.js";function ca(a,e){return e}function ua(a,e,t,r){for(var n=[],s=e.length,i=0;i<s;i++)Oe(e[i].e,n,!0);var h=s>0&&n.length===0&&t!==null;if(h){var y=t.parentNode;Ce(y),y.append(t),r.clear(),C(a,e[0].prev,e[s-1].next)}Le(n,()=>{for(var m=0;m<s;m++){var c=e[m];h||(r.delete(c.k),C(a,c.prev,c.next)),Me(c.e,!h)}})}function _a(a,e,t,r,n,s=null){var i=a,h={flags:e,items:new Map,first:null};T&&de();var y=null,m=!1;Ie(()=>{var c=t(),o=$e(c)?c:c==null?[]:ve(c),f=o.length;if(m&&f===0)return;m=f===0;let u=!1;if(T){var l=i.data===Se;l!==(f===0)&&(i=j(),ee(i),K(!1),u=!0)}if(T){for(var _=null,v,g=0;g<f;g++){if(B.nodeType===8&&B.data===Re){i=B,u=!0,K(!1);break}var d=o[g],E=r(d,g);v=Ee(B,h,_,null,d,E,g,n,e),h.items.set(E,v),_=v}f>0&&ee(j())}if(!T){var O=_e;ha(o,h,i,n,e,(O.f&q)!==0,r)}s!==null&&(f===0?y?ce(y):y=ue(()=>s(i)):y!==null&&we(y,()=>{y=null})),u&&K(!0),t()}),T&&(i=B)}function ha(a,e,t,r,n,s,i,h){var y=a.length,m=e.items,c=e.first,o=c,f,u=null,l=[],_=[],v,g,d,E;for(E=0;E<y;E+=1){if(v=a[E],g=i(v,E),d=m.get(g),d===void 0){var O=o?o.e.nodes_start:t;u=Ee(O,e,u,u===null?e.first:u.next,v,g,E,r,n),m.set(g,u),l=[],_=[],o=u.next;continue}if(ya(d,v,E),d.e.f&q&&ce(d.e),d!==o){if(f!==void 0&&f.has(d)){if(l.length<_.length){var p=_[0],k;u=p.prev;var S=l[0],b=l[l.length-1];for(k=0;k<l.length;k+=1)se(l[k],p,t);for(k=0;k<_.length;k+=1)f.delete(_[k]);C(e,S.prev,b.next),C(e,u,S),C(e,b,p),o=p,u=b,E-=1,l=[],_=[]}else f.delete(d),se(d,o,t),C(e,d.prev,d.next),C(e,d,u===null?e.first:u.next),C(e,u,d),u=d;continue}for(l=[],_=[];o!==null&&o.k!==g;)(s||!(o.e.f&q))&&(f??(f=new Set)).add(o),_.push(o),o=o.next;if(o===null)continue;d=o}l.push(d),u=d,o=d.next}if(o!==null||f!==void 0){for(var J=f===void 0?[]:ve(f);o!==null;)(s||!(o.e.f&q))&&J.push(o),o=o.next;var be=J.length;if(be>0){var Ae=null;ua(e,J,Ae,m)}}z.first=e.first&&e.first.e,z.last=u&&u.e}function ya(a,e,t,r){xe(a.v,e),a.i=t}function Ee(a,e,t,r,n,s,i,h,y,m){var c=(y&Fe)!==0,o=(y&Pe)===0,f=c?o?De(n):ae(n):n,u=y&Be?ae(i):i,l={i:u,v:f,k:s,a:null,e:null,prev:t,next:r};try{return l.e=ue(()=>h(a,f,u),T),l.e.prev=t&&t.e,l.e.next=r&&r.e,t===null?e.first=l:(t.next=l,t.e.next=l.e),r!==null&&(r.prev=l,r.e.prev=l.e),l}finally{}}function se(a,e,t){for(var r=a.next?a.next.e.nodes_start:t,n=e?e.e.nodes_start:t,s=a.e.nodes_start;s!==r;){var i=He(s);n.before(s),s=i}}function C(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function pa(a,e,t,r,n){var h;T&&de();var s=(h=e.$$slots)==null?void 0:h[t],i=!1;s===!0&&(s=e.children,i=!0),s===void 0||s(a,i?()=>r:r)}function ma(a){if(T){var e=!1,t=()=>{if(!e){if(e=!0,a.hasAttribute("value")){var r=a.value;G(a,"value",null),a.value=r}if(a.hasAttribute("checked")){var n=a.checked;G(a,"checked",null),a.checked=n}}};a.__on_r=t,qe(t),la()}}function G(a,e,t,r){var n=a.__attributes??(a.__attributes={});T&&(n[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||n[e]!==(n[e]=t)&&(e==="style"&&"__styles"in a&&(a.__styles={}),e==="loading"&&(a[Ue]=t),t==null?a.removeAttribute(e):typeof t!="string"&&ga(a).includes(e)?a[e]=t:a.setAttribute(e,t))}var ne=new Map;function ga(a){var e=ne.get(a.nodeName);if(e)return e;ne.set(a.nodeName,e=[]);for(var t,r=a,n=Element.prototype;n!==r;){t=Ge(r);for(var s in t)t[s].set&&e.push(s);r=ze(r)}return e}function Z(a,e){var t=a.__className,r=ka(e);T&&a.className===r?a.__className=r:(t!==r||T&&a.className!==r)&&(e==null?a.removeAttribute("class"):a.className=r,a.__className=r)}function ka(a){return a??""}const Ea=()=>performance.now(),w={tick:a=>requestAnimationFrame(a),now:()=>Ea(),tasks:new Set};function Te(){const a=w.now();w.tasks.forEach(e=>{e.c(a)||(w.tasks.delete(e),e.f())}),w.tasks.size!==0&&w.tick(Te)}function Ta(a){let e;return w.tasks.size===0&&w.tick(Te),{promise:new Promise(t=>{w.tasks.add(e={c:a,f:t})}),abort(){w.tasks.delete(e)}}}function H(a,e){a.dispatchEvent(new CustomEvent(e))}function ba(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const e=a.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function ie(a){const e={},t=a.split(";");for(const r of t){const[n,s]=r.split(":");if(!n||s===void 0)break;const i=ba(n.trim());e[i]=s.trim()}return e}const Aa=a=>a;function oe(a,e,t,r){var n=(a&Qe)!==0,s=(a&Ze)!==0,i=n&&s,h=(a&je)!==0,y=i?"both":n?"in":"out",m,c=e.inert,o,f;function u(){var d=_e,E=z;te(null),re(null);try{return m??(m=t()(e,(r==null?void 0:r())??{},{direction:y}))}finally{te(d),re(E)}}var l={is_global:h,in(){var d;if(e.inert=c,!n){f==null||f.abort(),(d=f==null?void 0:f.reset)==null||d.call(f);return}s||o==null||o.abort(),H(e,"introstart"),o=Q(e,u(),f,1,()=>{H(e,"introend"),o==null||o.abort(),o=m=void 0})},out(d){if(!s){d==null||d(),m=void 0;return}e.inert=!0,H(e,"outrostart"),f=Q(e,u(),o,0,()=>{H(e,"outroend"),d==null||d()})},stop:()=>{o==null||o.abort(),f==null||f.abort()}},_=z;if((_.transitions??(_.transitions=[])).push(l),n&&fa){var v=h;if(!v){for(var g=_.parent;g&&g.f&Je;)for(;(g=g.parent)&&!(g.f&Ke););v=!g||(g.f&Ve)!==0}v&&Ye(()=>{he(()=>l.in())})}}function Q(a,e,t,r,n){var s=r===1;if(We(e)){var i,h=!1;return Xe(()=>{if(!h){var v=e({direction:s?"in":"out"});i=Q(a,v,t,r,n)}}),{abort:()=>{h=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(t==null||t.deactivate(),!(e!=null&&e.duration))return n(),{abort:F,deactivate:F,reset:F,t:()=>r};const{delay:y=0,css:m,tick:c,easing:o=Aa}=e;var f=[];if(s&&t===void 0&&(c&&c(0,1),m)){var u=ie(m(0,1));f.push(u,u)}var l=()=>1-r,_=a.animate(f,{duration:y});return _.onfinish=()=>{var v=(t==null?void 0:t.t())??1-r;t==null||t.abort();var g=r-v,d=e.duration*Math.abs(g),E=[];if(d>0){if(m)for(var O=Math.ceil(d/16.666666666666668),p=0;p<=O;p+=1){var k=v+g*o(p/O),S=m(k,1-k);E.push(ie(S))}l=()=>{var b=_.currentTime;return v+g*o(b/d)},c&&Ta(()=>{if(_.playState!=="running")return!1;var b=l();return c(b,1-b),!0})}_=a.animate(E,{duration:d,fill:"forwards"}),_.onfinish=()=>{l=()=>r,c==null||c(r,1-r),n()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=F)},deactivate:()=>{n=F},reset:()=>{r===0&&(c==null||c(1,0))},t:()=>l()}}function Na(a,e,t=e){var r=ea();da(a,"input",n=>{var s=n?a.defaultValue:a.value;if(s=V(a)?Y(s):s,t(s),r&&s!==(s=e())){var i=a.selectionStart,h=a.selectionEnd;a.value=s??"",h!==null&&(a.selectionStart=i,a.selectionEnd=Math.min(h,a.value.length))}}),(T&&a.defaultValue!==a.value||he(e)==null&&a.value)&&t(V(a)?Y(a.value):a.value),aa(()=>{var n=e();V(a)&&n===Y(a.value)||a.type==="date"&&!n&&!a.value||n!==a.value&&(a.value=n??"")})}function V(a){var e=a.type;return e==="number"||e==="range"}function Y(a){return a===""?null:+a}var Ia=L('<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">'),$a=L('<span class="material-icons-outlined icon svelte-y47uu9"> </span>');function M(a,e){let t=R(e,"nome",8),r=R(e,"handler",8,()=>{}),n=R(e,"color",8,"red");var s=$a();va(h=>{var y=Ia();x(h,y)});var i=N(s,!0);I(s),D(()=>{G(s,"style",`--color:${n()??""};`),X(i,t())}),W("click",s,function(...h){var y;(y=r())==null||y.apply(this,h)}),x(a,s)}var Sa=L("<span> </span>");function wa(a,e){let t=R(e,"prio",12,3),r=R(e,"disabled",8,!1);const n=m=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[m],s=()=>{r()||t((t()+1)%3+1)};var i=Sa();const h=ye(()=>`${(r()?"DISABILITATO":n(t()))??""} svelte-10521h5`);var y=N(i,!0);D(()=>X(y,n(t()))),I(i),D(()=>Z(i,A(h))),W("click",i,s),x(a,i)}const xa=a=>a;function le(a,{delay:e=0,duration:t=400,easing:r=xa}={}){const n=+getComputedStyle(a).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*n}`}}var Oa=L("<div><!></div>");function P(a,e){let t=R(e,"last",8,!1);var r=Oa(),n=N(r);pa(n,e,"default",{}),I(r),D(()=>Z(r,`cell ${(t()?"cell-last":"")??""} svelte-1rok9x2`)),oe(1,r,()=>le,()=>({duration:700})),oe(2,r,()=>le,()=>({duration:350})),x(a,r)}var Ca=L('<input type="text" placeholder="Inserisci il nuovo ToDo">'),La=L("<!> <!> <!> <!> <!>",1);function Ma(a,e){pe(e,!1);let t=R(e,"todo",12),r=me(t().priority);const n=ia(),s=()=>{t(t().done=!t().done,!0),i("update")},i=l=>{n("change",{type:l,id:t().id})},h=()=>{document.getElementById(t().id).blur(),i("update")};ta(()=>(na(t()),A(r)),()=>{t().priority!=A(r)&&(U(r,t().priority),i("update"))}),ra(),fe();var y=La(),m=ge(y);P(m,{children:(l,_)=>{sa();var v=Ne();D(()=>X(v,t().id)),x(l,v)},$$slots:{default:!0}});var c=$(m,2);P(c,{children:(l,_)=>{var v=ye(()=>t().done?"task_alt":"circle");M(l,{get nome(){return A(v)},handler:s,color:"red"})},$$slots:{default:!0}});var o=$(c,2);P(o,{children:(l,_)=>{var v=Ca();ma(v),D(()=>{Z(v,`todo-item-input-text ${(t().done==!0?"text-done":"")??""} svelte-1hq136w`),G(v,"id",t().id)}),Na(v,()=>t().task,g=>t(t().task=g,!0)),W("change",v,h),x(l,v)},$$slots:{default:!0}});var f=$(o,2);P(f,{children:(l,_)=>{wa(l,{get disabled(){return t().done},get prio(){return t().priority},set prio(v){t(t().priority=v,!0)},$$legacy:!0})},$$slots:{default:!0}});var u=$(f,2);P(u,{last:!0,children:(l,_)=>{M(l,{nome:"delete_forever",color:"red",handler:()=>i("delete")})},$$slots:{default:!0}}),x(a,y),ke()}var Ra=L('<h1 class="app-title svelte-ydydbf">Todos</h1> <div class="todo-list svelte-ydydbf"><div class="header svelte-ydydbf"><!></div> <div class="header svelte-ydydbf"><!></div> <div class="header svelte-ydydbf"><!></div> <div class="header svelte-ydydbf"><!></div> <div class="header header-last svelte-ydydbf"><!></div> <!></div>',1);function Da(a,e){pe(e,!1);let t=me([]),r=0;const n=async()=>{let p={id:++r,task:"",done:!1,priority:3};console.log("CREATE: ",p),localStorage.setItem(`todo${p.id}`,JSON.stringify(p)),U(t,[...A(t),p])},s=async p=>{switch(p.detail.type){case"update":i(p.detail.id);break;case"delete":h(p.detail.id);break}},i=p=>{console.log("UPDATE",p);const k=A(t).filter(S=>S.id==p)[0];localStorage.setItem(`todo${k.id}`,JSON.stringify(k))},h=p=>{console.log("DELETE",p),U(t,A(t).filter(k=>k.id!=p)),localStorage.removeItem(`todo${p}`)};oa(async()=>{for(let p=0;p<localStorage.length;p++){const k=localStorage.key(p),S=+k.substring(4);S>=r&&(r=S);const b=JSON.parse(localStorage.getItem(k));b!=NULL&&A(t).push(b)}U(t,[...A(t)])}),fe();var y=Ra(),m=$(ge(y),2),c=N(m),o=N(c);M(o,{nome:"tag"}),I(c);var f=$(c,2),u=N(f);M(u,{nome:"task_alt"}),I(f);var l=$(f,2),_=N(l);M(_,{nome:"list"}),I(l);var v=$(l,2),g=N(v);M(g,{nome:"schedule"}),I(v);var d=$(v,2),E=N(d);M(E,{nome:"add_box",handler:n}),I(d);var O=$(d,2);_a(O,1,()=>A(t),ca,(p,k)=>{Ma(p,{get todo(){return A(k)},$$events:{change:s}})}),I(m),x(a,y),ke()}var Ba=L('<main class="svelte-jpakl"><!></main>');function za(a){var e=Ba(),t=N(e);Da(t,{}),I(e),x(a,e)}export{za as component};
